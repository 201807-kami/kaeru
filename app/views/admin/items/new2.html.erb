<div class ="field">
  <%= f.label :商品名 %><br>
  <%= f.text_field :title %><br>
  <br>
  <%= f.label :ジャケット画像 %><br>
  <%= f.attachment_field :item_image %><br>
  <br>
  <%= f.label :アーティスト %><br>
  <%= f.autocomplete_field :artist_name, autocomplete_artist_name_admin_artists_path %><br>
  <br>
  <%= f.label :価格 %><br>
  <%= f.text_field :price %>円<br>
  <br>
  <%= f.label :レーベル名 %><br>
  <%= f.autocomplete_field :label_name, autocomplete_label_name_admin_labels_path %><br>
  <br>
  <%= f.label :ジャンル %><br>
  <%= f.collection_select(:genre_id, Genre.all, :id, :name) %><br>
  <br>
  <%= f.label :在庫数 %><br>
  <%= f.text_field :stock %><br>
  <br>
  <%= f.label :ステータス %><br>
  <%= f.select :status, [["未公開", "未公開"],["販売中","販売中"],["販売終了","販売終了"]] %><br>
  <br>
  <%= f.label :おすすめ %><br>
  <%= f.collection_select(:recommended, Genre.all, :id, :name, include_blank: true) %><br>
  <br>
  <%= f.fields_for :discs do |df| %>
    <%= render partial: "disc_form", locals: {f: df } %>
    <% end %>
  <%= link_to_add_field("disc add", f, :discs, {}) %>
</div>





<div class ="field">
  <%= f.label :商品名 %><br>
  <%= f.text_field :title %><br>
  <br>
  <%= f.label :ジャケット画像 %><br>
  <%= f.attachment_field :item_image %><br>
  <br>
  <%= f.label :アーティスト %><br>
  <%= f.autocomplete_field :artist_name, autocomplete_artist_name_admin_artists_path %><br>
  <br>
  <%= f.label :価格 %><br>
  <%= f.text_field :price %>円<br>
  <br>
  <%= f.label :レーベル名 %><br>
  <%= f.autocomplete_field :label_name, autocomplete_label_name_admin_labels_path %><br>
  <br>
  <%= f.label :ジャンル %><br>
  <%= f.collection_select(:genre_id, Genre.all, :id, :name) %><br>
  <br>
  <%= f.label :在庫数 %><br>
  <%= f.text_field :stock %><br>
  <br>
  <%= f.label :ステータス %><br>
  <%= f.select :status, [["未公開", "未公開"],["販売中","販売中"],["販売終了","販売終了"]] %><br>
  <br>
  <%= f.label :おすすめ %><br>
  <%= f.collection_select(:recommended, Genre.all, :id, :name, include_blank: true) %><br>
  <br>
  <table class="table table-bordered table-sm table-hover">
    <%= f.fields_for :discs do |df| %>
      <tbody>
        <tr class="table-secondary">
          <th><%= df.label :disc_number %>
              <%= df.text_field :disc_number %>
              <%= df.hidden_field :id %>
          </th>
          <th></th>
          <th></th>
        </tr>
        <%= f.fields_for :songs do |sf| %>
          <td>
            <%= sf.label :曲名 %>
            <%= sf.text_field :name %>
            <%= sf.hidden_field :id %>
            <%= link_to_add_field("song add", df, :songs, {}) %>
          </td>
          <td>
            
          </td>
          <td>
            <%= link_to_remove_field("song remove", sf, {}) %>
          </td>
        <% end %>
        
      </tbody>
      
  </table>
      <%= link_to_remove_field("disc remove", df, {}) %>
    <% end %>
  <
  <table>
   <%= link_to_add_field("disc add", f, :discs, {}) %>
</div>
